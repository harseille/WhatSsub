"use strict";(self.webpackChunkwhatssub=self.webpackChunkwhatssub||[]).push([[539],{6247:(n,t,e)=>{e.d(t,{Z:()=>o});var r=e(6257);const o=function(n){return t=void 0,e=void 0,i=function(){return function(n,t){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(n,a)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,(0,r.PL)(n)];case 1:return[2,t.sent()]}}))},new((o=Promise)||(o=Promise))((function(n,r){function a(n){try{c(i.next(n))}catch(n){r(n)}}function u(n){try{c(i.throw(n))}catch(n){r(n)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(a,u)}c((i=i.apply(t,e||[])).next())}));var t,e,o,i}},4583:(n,t,e)=>{e.d(t,{Z:()=>i});var r=e(6257),o=e(6566);const i=function(n,t,e){return i=void 0,a=void 0,c=function(){return function(n,t){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(n,a)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,r.r7)((0,r.JU)((0,r.hJ)(o.db,n),t),e)];case 1:return[2,i.sent()];case 2:return i.sent(),console.log("db update 실패"),[3,3];case 3:return[2]}}))},new((u=void 0)||(u=Promise))((function(n,t){function e(n){try{o(c.next(n))}catch(n){t(n)}}function r(n){try{o(c.throw(n))}catch(n){t(n)}}function o(t){var o;t.done?n(t.value):(o=t.value,o instanceof u?o:new u((function(n){n(o)}))).then(e,r)}o((c=c.apply(i,a||[])).next())}));var i,a,u,c}},850:(n,t,e)=>{e.d(t,{Z:()=>p});var r=e(7294);const o=e.p+"images/d9b0d565a25869d2659e.svg",i=e.p+"images/997e5c53f3f26877a000.svg";var a,u,c=e(932),l=e(4625),s=e(3519),f=c.Z.button(d||(a=["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  border: none;\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  background: url(",") no-repeat center;\n  background-color: #ffe8e0;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f7a9a9a3;\n    box-shadow: 3px 3px 3px #7879706d;\n  }\n\n  "," {\n    width: ",";\n    height: ",";\n  }\n"],u=["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  border: none;\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  background: url(",") no-repeat center;\n  background-color: #ffe8e0;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f7a9a9a3;\n    box-shadow: 3px 3px 3px #7879706d;\n  }\n\n  "," {\n    width: ",";\n    height: ",";\n  }\n"],Object.defineProperty?Object.defineProperty(a,"raw",{value:u}):a.raw=u,d=a),(0,l.bu)(34),(0,l.bu)(34),(function(n){return n.isLiked?i:o}),s.Z,(0,l.bu)(48),(0,l.bu)(48));const p=(0,r.memo)(f,(function(n,t){return n.isLiked===t.isLiked}));var d},3291:(n,t,e)=>{e.d(t,{Z:()=>u});var r=e(7294),o=e(9250),i=e(4480),a=e(3915);const u=function(){var n=(0,o.s0)(),t=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a}((0,r.useState)(!1),2),e=t[0],u=t[1];return{userInfo:(0,i.sJ)(a.K),isShowModal:e,toggleModal:(0,r.useCallback)((function(){return u((function(n){return!n}))}),[]),navigateLoginPage:(0,r.useCallback)((function(){return n("/login")}),[n])}}},4924:(n,t,e)=>{e.d(t,{Z:()=>f});var r=e(7294),o=e(4480),i=e(3854),a=e(6257),u=e(4583),c=e(3291),l=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a},s=function(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))};const f=function(n){var t=(0,c.Z)(),e=t.userInfo,f=t.isShowModal,p=t.toggleModal,d=t.navigateLoginPage,h=l((0,o.FV)(i.K),2),b=h[0],v=h[1],y=l((0,r.useState)(0),2),w=y[0],g=y[1],x=b.includes(n);return(0,r.useEffect)((function(){e&&(0,u.Z)("좋아요",e.uid,{좋아요_리스트:b})}),[e,b,w]),{isShowModal:f,toggleModal:p,navigateLoginPage:d,좋아요한_샌드위치인가:x,클릭핸들러_좋아요_토글:function(t,r){return o=void 0,i=void 0,f=function(){var r;return function(n,t){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(n,a)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(o){switch(o.label){case 0:return e?(r=x?-1:1,[4,(0,u.Z)("꿀조합",n,{좋아요:(0,a.nP)(r)})]):(p(),[2]);case 1:return o.sent(),g((function(n){return n+r})),"pending"!==t&&v((function(t){return 1===r?s(s([],l(t),!1),[n],!1):t.filter((function(t){return t!==n}))})),[2,r]}}))},new((c=Promise)||(c=Promise))((function(n,t){function e(n){try{a(f.next(n))}catch(n){t(n)}}function r(n){try{a(f.throw(n))}catch(n){t(n)}}function a(t){var o;t.done?n(t.value):(o=t.value,o instanceof c?o:new c((function(n){n(o)}))).then(e,r)}a((f=f.apply(o,i||[])).next())}));var o,i,c,f},좋아요_개수:w,좋아요_개수_수정:g,좋아요한샌드위치:b,좋아요한샌드위치_수정:v}}},2452:(n,t,e)=>{e.r(t),e.d(t,{default:()=>Q});var r=e(5944),o=e(3758),i=e(932),a=e(4625),u=e(7294),c=e(9250),l=e(6257),s=e(6247);var f=e(6566),p=function(){return p=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},p.apply(this,arguments)};const d=function(n,t){return e=void 0,r=void 0,i=function(){var e,r,o,i,a;return function(n,t){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(n,a)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(u){switch(u.label){case 0:return e=(0,l.hJ)(f.db,"꿀조합"),r=(0,l.IO)(e,(0,l.Xo)("좋아요","desc")),[4,(0,s.Z)(r)];case 1:return o=u.sent(),i=[],o.forEach((function(n){i.push(p({id:n.id},n.data()))})),d=t,h=(c=i).map((function(n){return Object.values(n.뱃지리스트).flat()})),b=Object.values(d).flat(),v=h.flatMap((function(n,t){var e=!0;return b.forEach((function(t){n.includes(t)||(e=!1)})),e?t:[]})),a=c.filter((function(n,t){return v.includes(t)})),n(a),[2]}var c,d,h,b,v}))},new((o=void 0)||(o=Promise))((function(n,t){function a(n){try{c(i.next(n))}catch(n){t(n)}}function u(n){try{c(i.throw(n))}catch(n){t(n)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(a,u)}c((i=i.apply(e,r||[])).next())}));var e,r,o,i};var h=e(2715),b=e(4025);const v=e.p+"images/4b5e5d4dda2b3663b99d.webp",y=e.p+"images/62f52e2ba233f6dd8d4a.webp";var w=e(3519),g=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},x=function(){return x=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},x.apply(this,arguments)};const m=function(){var n=(0,c.s0)();return(0,r.BX)(r.HY,{children:[(0,r.tZ)(j,{children:"꿀조합 찾기 실패"}),(0,r.tZ)(O,{children:(0,r.tZ)(h.Z,x({src:v,placeholder:y},{children:function(n,t){return(0,r.tZ)("img",{style:{filter:t?"blur(4px)":"blur(0)"},src:n,alt:"울고있는 단지"})}}))}),(0,r.tZ)(_,{children:"검색하신 샌드위치를 찾을 수 없습니다."}),(0,r.tZ)(_,{children:"꿀조합을 다시 선택해주세요."}),(0,r.tZ)(E,{children:(0,r.tZ)(b.Z,x({onClick:function(){return n(-1)},designType:"primaryYellow",width:(0,a.bu)(330),height:(0,a.bu)(50),marginTop:"40px"},{children:"다시 찾기"}))})]})};var Z,k,P,S,O=i.Z.div(Z||(Z=g(["\n  max-width: ",";\n\n  & img {\n    width: 100%;\n    height: 100%;\n    min-height: ",";\n  }\n\n  "," {\n    min-width: ",";\n\n    & img {\n      min-height: ",";\n    }\n  }\n"],["\n  max-width: ",";\n\n  & img {\n    width: 100%;\n    height: 100%;\n    min-height: ",";\n  }\n\n  "," {\n    min-width: ",";\n\n    & img {\n      min-height: ",";\n    }\n  }\n"])),(0,a.bu)(250),(0,a.bu)(251),w.Z,(0,a.bu)(350),(0,a.bu)(351)),j=i.Z.p(k||(k=g(["\n  padding-top: 60px;\n  font-weight: 700;\n  font-size: ",";\n  text-align: center;\n  color: #181818;\n\n  "," {\n    font-size: ",";\n  }\n"],["\n  padding-top: 60px;\n  font-weight: 700;\n  font-size: ",";\n  text-align: center;\n  color: #181818;\n\n  "," {\n    font-size: ",";\n  }\n"])),(0,a.bu)(28),w.Z,(0,a.bu)(36)),_=i.Z.p(P||(P=g(["\n  font-size: ",";\n  margin-bottom: 4px;\n  color: #6c6c6c;\n\n  "," {\n    font-size: ",";\n  }\n"],["\n  font-size: ",";\n  margin-bottom: 4px;\n  color: #6c6c6c;\n\n  "," {\n    font-size: ",";\n  }\n"])),(0,a.bu)(14),w.Z,(0,a.bu)(18)),E=i.Z.div(S||(S=g(["\n  & button:hover {\n    box-shadow: 5px 5px 5px #7879706d;\n  }\n"],["\n  & button:hover {\n    box-shadow: 5px 5px 5px #7879706d;\n  }\n"]))),T=e(4924),C=e(7189),L=e(9929),M=e(850),z=function(){return z=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},z.apply(this,arguments)};const G=function(n){var t=n.sandwich,e=n.sandwich.id,o=(0,T.Z)(e),i=o.isShowModal,a=o.toggleModal,u=o.navigateLoginPage,l=o.좋아요한_샌드위치인가,s=o.클릭핸들러_좋아요_토글,f=(0,c.s0)();return(0,r.BX)(r.HY,{children:[i&&(0,r.tZ)(C.Z,{title:"로그인이 필요한 서비스입니다.",message:"로그인 페이지로 이동하시겠습니까?",onEvent:u,onClose:a,isConfirm:"이동"}),(0,r.BX)(J,z({role:"link",onClick:function(n){"BUTTON"!==n.target.tagName&&f("/best-combination/".concat(e))}},{children:[(0,r.tZ)(L.Z,{sandwich:t}),(0,r.tZ)(M.Z,{onClick:s.bind(null,"fulfilled"),isLiked:l})]}))]})};var B,X,H,J=i.Z.li(B||(X=["\n  min-width: ",";\n  width: 80%;\n  position: relative;\n  padding: 45px 25px 20px;\n  max-width: ",";\n  box-shadow: 0px 4px 5px 3px rgba(194, 194, 194, 0.5);\n  border-radius: 15px;\n  background: ",";\n  cursor: pointer;\n  transition: transform 0.3s ease;\n\n  &:hover {\n    background-color: #f3f7d86e;\n    box-shadow: 0px 4px 5px 3px rgba(194, 194, 194, 0.5), 10px 5px 5px #7879706d;\n    transform: translate3d(-5px, -5px, 0);\n  }\n\n  "," {\n    min-width: 90%;\n    min-height: ",";\n    padding: 20px 25px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"],H=["\n  min-width: ",";\n  width: 80%;\n  position: relative;\n  padding: 45px 25px 20px;\n  max-width: ",";\n  box-shadow: 0px 4px 5px 3px rgba(194, 194, 194, 0.5);\n  border-radius: 15px;\n  background: ",";\n  cursor: pointer;\n  transition: transform 0.3s ease;\n\n  &:hover {\n    background-color: #f3f7d86e;\n    box-shadow: 0px 4px 5px 3px rgba(194, 194, 194, 0.5), 10px 5px 5px #7879706d;\n    transform: translate3d(-5px, -5px, 0);\n  }\n\n  "," {\n    min-width: 90%;\n    min-height: ",";\n    padding: 20px 25px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"],Object.defineProperty?Object.defineProperty(X,"raw",{value:H}):X.raw=H,B=X),(0,a.bu)(340),(0,a.bu)(370),(function(n){return n.theme.colors.white}),w.Z,(0,a.bu)(260)),Y=e(523),I=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a};const A=function(){var n=this,t=I((0,u.useState)(null),2),e=t[0],o=t[1],i=I((0,u.useState)(!0),2),a=i[0],l=i[1],s=(0,c.TH)().state;return(0,u.useEffect)((function(){var t,e,r,i;t=n,e=void 0,i=function(){return function(n,t){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(n,a)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){switch(n.label){case 0:return[4,d(o,s)];case 1:return n.sent(),l(!1),[2]}}))},new((r=void 0)||(r=Promise))((function(n,o){function a(n){try{c(i.next(n))}catch(n){o(n)}}function u(n){try{c(i.throw(n))}catch(n){o(n)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(n){n(e)}))).then(a,u)}c((i=i.apply(t,e||[])).next())}))}),[s]),0===(null==e?void 0:e.length)?(0,r.tZ)(m,{}):(0,r.BX)(r.HY,{children:[a&&(0,r.tZ)(Y.Z,{}),(0,r.tZ)(N,{children:null==e?void 0:e.map((function(n){return(0,r.tZ)(G,{sandwich:n},n.id)}))})]})};var K,N=i.Z.ul(K||(K=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}(["\n  width: 100%;\n  display: flex;\n  ","\n  gap: 16px;\n"],["\n  width: 100%;\n  display: flex;\n  ","\n  gap: 16px;\n"])),(0,a.GQ)("column","center","center"));const Q=function(){return(0,r.tZ)(F,{children:(0,r.tZ)(A,{})})};var U,F=(0,i.Z)(o.Z)(U||(U=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}(["\n  ","\n  padding-top: 4vh;\n"],["\n  ","\n  padding-top: 4vh;\n"])),(0,a.GQ)("column","center","center"))}}]);